<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Job Application Tracker</title>
  <link rel="stylesheet" href="dashboard.css">
  <link rel="stylesheet" href="stats.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <h1>Job Tracker</h1>
      </div>
      <div class="header-actions">
        <button class="btn-profile" id="openProfileBtn" title="Open Profile">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
          <span>Profile</span>
        </button>
        <div class="user-menu" id="user-menu">
          <button class="user-avatar-btn" id="user-avatar-btn" title="Account">
            <span id="header-user-initials">U</span>
          </button>
          <div class="user-dropdown" id="header-user-dropdown">
            <div class="user-dropdown-info">
              <div class="user-dropdown-name" id="header-user-name">User</div>
              <div class="user-dropdown-email" id="header-user-email">user@email.com</div>
            </div>
            <div class="user-dropdown-divider"></div>
            <button class="user-dropdown-item" id="sync-data-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 12a9 9 0 11-6.219-8.56"/>
                <polyline points="21 3 21 9 15 9"/>
              </svg>
              Sync Data
            </button>
            <button class="user-dropdown-item logout" id="logout-btn">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                <polyline points="16 17 21 12 16 7"/>
                <line x1="21" y1="12" x2="9" y2="12"/>
              </svg>
              Logout
            </button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Search and Filters -->
  <div class="search-section">
    <div class="search-container">
      <div class="search-bar">
        <input
          type="text"
          id="search-input"
          placeholder="Search by company, position, location..."
          autocomplete="off"
        >
        <button class="clear-search" id="clear-search">√ó</button>
      </div>

      <div class="filters">
        <select id="filter-status" class="filter-select">
          <option value="all">All Status</option>
          <option value="applied">Applied</option>
          <option value="interview">Interview</option>
          <option value="offer">Offer</option>
          <option value="rejected">Rejected</option>
          <option value="withdrawn">Withdrawn</option>
        </select>

        <select id="filter-worktype" class="filter-select">
          <option value="all">All Work Types</option>
          <option value="remote">Remote</option>
          <option value="hybrid">Hybrid</option>
          <option value="onsite">Onsite</option>
        </select>

        <select id="filter-sort" class="filter-select">
          <option value="date-desc">Newest First</option>
          <option value="date-asc">Oldest First</option>
          <option value="company-asc">Company A-Z</option>
          <option value="company-desc">Company Z-A</option>
        </select>
      </div>
    </div>
  </div>

  <!-- View Toggle -->
  <div class="view-toggle">
    <div class="view-toggle-row">
      <div class="view-tabs">
        <button class="view-tab active" data-view="kanban">
          <div class="view-tab-icon" style="mask: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><path d=%22M2.4 2.65a.65.65 0 0 0-.65.65v9.4c0 .36.29.65.65.65h2.85a.65.65 0 0 0 .65-.65V3.3a.65.65 0 0 0-.65-.65zm5.35 0a.65.65 0 0 0-.65.65v9.4c0 .36.29.65.65.65h2.85a.65.65 0 0 0 .65-.65V3.3a.65.65 0 0 0-.65-.65zm5.35 0a.65.65 0 0 0-.65.65v9.4c0 .36.29.65.65.65h.65a.65.65 0 0 0 .65-.65V3.3a.65.65 0 0 0-.65-.65z%22/></svg>') center center / contain no-repeat;"></div>
          <span>Kanban board</span>
        </button>

        <button class="view-tab" data-view="table">
          <div class="view-tab-icon" style="mask: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><path d=%22M2 3.65a.65.65 0 0 1 .65-.65h10.7a.65.65 0 0 1 0 1.3H2.65A.65.65 0 0 1 2 3.65m0 4a.65.65 0 0 1 .65-.65h10.7a.65.65 0 1 1 0 1.3H2.65A.65.65 0 0 1 2 7.65m0 4a.65.65 0 0 1 .65-.65h10.7a.65.65 0 1 1 0 1.3H2.65a.65.65 0 0 1-.65-.65%22/></svg>') center center / contain no-repeat;"></div>
          <span>Table view</span>
        </button>

        <button class="view-tab" data-view="calendar">
          <div class="view-tab-icon" style="mask: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><path d=%22M2.65 2A.65.65 0 0 0 2 2.65v10.7c0 .36.29.65.65.65h10.7a.65.65 0 0 0 .65-.65V2.65a.65.65 0 0 0-.65-.65zM3.3 3.3h9.4v2.05H3.3zm0 3.35h9.4v6H3.3z%22/></svg>') center center / contain no-repeat;"></div>
          <span>Calendar</span>
        </button>

        <button class="view-tab" data-view="stats">
          <div class="view-tab-icon" style="mask: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22><path d=%22M2 12.35v1.3c0 .36.29.65.65.65h1.3a.65.65 0 0 0 .65-.65v-1.3a.65.65 0 0 0-.65-.65h-1.3a.65.65 0 0 0-.65.65m4-3v4.3c0 .36.29.65.65.65h1.3a.65.65 0 0 0 .65-.65v-4.3a.65.65 0 0 0-.65-.65h-1.3a.65.65 0 0 0-.65.65m4-4v8.3c0 .36.29.65.65.65h1.3a.65.65 0 0 0 .65-.65v-8.3a.65.65 0 0 0-.65-.65h-1.3a.65.65 0 0 0-.65.65%22/></svg>') center center / contain no-repeat;"></div>
          <span>Stats overview</span>
        </button>
      </div>

      <div class="view-toolbar">
        <div class="toolbar-icons">
          <button class="toolbar-btn" id="filter-btn" aria-label="Filter" title="Filter">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--c-icoSec); flex-shrink: 0;">
              <path d="M2.4 3.7a.7.7 0 1 0 0 1.4h11.2a.7.7 0 1 0 0-1.4zm9.5 3.594H4.1a.7.7 0 1 0 0 1.4h7.8a.7.7 0 1 0 0-1.4M5.8 10.9a.7.7 0 1 0 0 1.4h4.4a.7.7 0 1 0 0-1.4z"></path>
            </svg>
          </button>

          <button class="toolbar-btn" id="sort-btn" aria-label="Sort" title="Sort">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--c-icoSec); flex-shrink: 0; transform: rotate(180deg);">
              <path d="M11.349 2.672a.625.625 0 0 0-.884 0L7.666 5.471a.625.625 0 1 0 .884.883l1.732-1.73v8.262a.625.625 0 1 0 1.25 0V4.623l1.73 1.731a.625.625 0 0 0 .885-.883zM5.093 2.49a.625.625 0 0 0-.625.624v8.263l-1.73-1.731a.625.625 0 1 0-.885.883l2.798 2.799c.244.244.64.244.884 0l2.798-2.798a.625.625 0 0 0-.883-.884l-1.732 1.73V3.115a.625.625 0 0 0-.625-.625"></path>
            </svg>
          </button>

          <!-- Inline search input (hidden by default) - appears in place of search button -->
          <div class="inline-search-container" id="inline-search-container" style="display: none;">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" class="search-icon" style="width: 16px; height: 16px; display: block; fill: var(--text-muted); flex-shrink: 0;">
              <path d="M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"></path>
            </svg>
            <input
              type="text"
              id="inline-search-input"
              placeholder="Type to search..."
              autocomplete="off"
            >
          </div>

          <button class="toolbar-btn" id="search-btn" aria-label="Search" title="Search">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--c-icoSec); flex-shrink: 0;">
              <path d="M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"></path>
            </svg>
          </button>

          <button class="toolbar-btn" id="settings-btn" aria-label="Settings" title="Settings">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--c-icoSec); flex-shrink: 0;">
              <path d="M2.25 5.531h5.692a2.126 2.126 0 0 0 4.116 0h1.692a.625.625 0 1 0 0-1.25H12a2.126 2.126 0 0 0-4 0H2.25a.625.625 0 1 0 0 1.25M10 4.125a.875.875 0 1 1 0 1.75.875.875 0 0 1 0-1.75m-4 9c.921 0 1.706-.586 2-1.406h5.75a.625.625 0 0 0 0-1.25H8.058a2.126 2.126 0 0 0-4.116 0H2.25a.625.625 0 1 0 0 1.25H4a2.13 2.13 0 0 0 2 1.406m0-1.25a.875.875 0 1 1 0-1.75.875.875 0 0 1 0 1.75"></path>
            </svg>
          </button>
        </div>

        <div class="new-button-group">
          <button class="new-btn-main" id="add-job-btn">New</button>
          <button class="new-btn-dropdown" id="new-dropdown-btn" aria-label="New options">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: white; flex-shrink: 0; margin-top: 2px;">
              <path d="M7.47 10.93a.75.75 0 0 0 1.06 0l4.32-4.32a.75.75 0 1 0-1.06-1.06L8 9.34 4.21 5.55a.75.75 0 0 0-1.06 1.06z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Kanban View -->
    <div id="kanban-view" class="view-container active">
      <div class="kanban-board">
        <div class="kanban-column" data-status="applied">
          <div class="column-header-notion">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 20 20" class="status-icon">
              <path d="M9.501 2.391a8 8 0 0 1 .998 0 .625.625 0 0 1-.081 1.247 7 7 0 0 0-.836 0 .625.625 0 0 1-.08-1.247m3.034 1.053a.625.625 0 0 1 .838-.284q.45.222.863.5a.625.625 0 0 1-.695 1.038 6 6 0 0 0-.722-.417.625.625 0 0 1-.284-.837m-5.072 0a.625.625 0 0 1-.284.837q-.375.185-.722.417a.625.625 0 0 1-.695-1.038q.414-.278.863-.5a.625.625 0 0 1 .838.284m8.009 2.147a.625.625 0 0 1 .867.172q.278.414.5.863a.625.625 0 0 1-1.12.554 6 6 0 0 0-.418-.722.625.625 0 0 1 .171-.867m-10.946 0c.287.192.363.58.171.867q-.232.346-.417.722a.625.625 0 1 1-1.12-.554q.221-.45.499-.863a.625.625 0 0 1 .867-.172m12.418 3.327a.625.625 0 0 1 .664.583 8 8 0 0 1 0 .998.625.625 0 0 1-1.248-.081 6 6 0 0 0 0-.836.625.625 0 0 1 .584-.664m-13.89 0c.345.022.606.32.583.664a7 7 0 0 0 0 .836.625.625 0 0 1-1.247.08 8 8 0 0 1 0-.997.625.625 0 0 1 .664-.583m13.501 3.618c.31.153.437.528.284.838q-.222.45-.5.863a.625.625 0 1 1-1.038-.695q.231-.346.417-.722a.625.625 0 0 1 .837-.284m-13.112 0a.625.625 0 0 1 .837.284q.185.375.417.722a.625.625 0 0 1-1.038.695 8 8 0 0 1-.5-.864.625.625 0 0 1 .284-.837m2.147 2.937a.625.625 0 0 1 .867-.171q.346.231.722.417a.625.625 0 1 1-.554 1.12 8 8 0 0 1-.863-.499.625.625 0 0 1-.172-.867m8.818 0a.625.625 0 0 1-.172.867 8 8 0 0 1-.864.5.625.625 0 0 1-.553-1.12q.375-.187.722-.418a.625.625 0 0 1 .867.171m-5.491 1.472a.625.625 0 0 1 .664-.584 6 6 0 0 0 .836 0 .625.625 0 0 1 .08 1.248 8 8 0 0 1-.997 0 .625.625 0 0 1-.583-.664"></path>
            </svg>
            <span class="column-title">Applied</span>
            <span class="count" id="count-applied">0</span>
          </div>
          <div class="column-content" id="column-applied"></div>
        </div>

        <div class="kanban-column" data-status="interview">
          <div class="column-header-notion">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 20 20" class="status-icon">
              <path d="M8.954 12.856a.718.718 0 0 1-1.079-.62V7.764c0-.554.6-.9 1.08-.62l3.833 2.236a.718.718 0 0 1 0 1.24z"></path>
              <path d="M2.375 10a7.625 7.625 0 1 0 15.25 0 7.625 7.625 0 0 0-15.25 0M10 16.375a6.375 6.375 0 1 1 0-12.75 6.375 6.375 0 0 1 0 12.75"></path>
            </svg>
            <span class="column-title">Interview</span>
            <span class="count" id="count-interview">0</span>
          </div>
          <div class="column-content" id="column-interview"></div>
        </div>

        <div class="kanban-column" data-status="offer">
          <div class="column-header-notion">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 20 20" class="status-icon">
              <path d="M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 0 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"></path>
              <path d="M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"></path>
            </svg>
            <span class="column-title">Offer</span>
            <span class="count" id="count-offer">0</span>
          </div>
          <div class="column-content" id="column-offer"></div>
        </div>

        <div class="kanban-column" data-status="rejected">
          <div class="column-header-notion">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 20 20" class="status-icon">
              <path d="M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"></path>
              <path d="M12.803 7.197a.625.625 0 0 1 0 .884L10.884 10l1.92 1.92a.625.625 0 1 1-.885.883L10 10.884l-1.92 1.92a.625.625 0 1 1-.883-.885L9.116 10l-1.92-1.92a.625.625 0 1 1 .884-.883L10 9.116l1.92-1.92a.625.625 0 0 1 .883 0"></path>
            </svg>
            <span class="column-title">Rejected</span>
            <span class="count" id="count-rejected">0</span>
          </div>
          <div class="column-content" id="column-rejected"></div>
        </div>
      </div>
    </div>

    <!-- Table View -->
    <div id="table-view" class="view-container">
      <div class="table-container">
        <table class="jobs-table">
          <thead>
            <tr>
              <th class="col-icon">#</th>
              <th class="col-title">Title</th>
              <th class="col-company">Company</th>
              <th class="col-location">Location</th>
              <th class="col-status">Status</th>
              <th class="col-worktype">Work Type</th>
              <th class="col-date">Applied</th>
            </tr>
          </thead>
          <tbody id="table-body"></tbody>
        </table>
      </div>

      <!-- Notion-style Pagination -->
      <div class="table-pagination" id="table-pagination">
        <div class="pagination-info">
          <span id="pagination-info-text">1-10 of 50</span>
        </div>
        <div class="pagination-controls">
          <button class="pagination-btn" id="prev-page-btn" aria-label="Previous page" disabled>
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 14px; height: 14px; display: block; fill: currentColor; flex-shrink: 0;">
              <path d="M10.03 3.47a.75.75 0 0 1 0 1.06L6.56 8l3.47 3.47a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0"></path>
            </svg>
          </button>
          <button class="pagination-btn" id="next-page-btn" aria-label="Next page">
            <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 14px; height: 14px; display: block; fill: currentColor; flex-shrink: 0;">
              <path d="M5.97 3.47a.75.75 0 0 0 0 1.06L9.44 8l-3.47 3.47a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4a.75.75 0 0 0-1.06 0"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Calendar View -->
    <div id="calendar-view" class="view-container">
      <div class="calendar-wrapper">
        <div class="calendar-header">
          <div class="calendar-month-nav">
            <button class="calendar-nav-btn" id="prev-month" aria-label="Previous month">
              <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--text-secondary); flex-shrink: 0;">
                <path d="M10.03 3.47a.75.75 0 0 1 0 1.06L6.56 8l3.47 3.47a.75.75 0 1 1-1.06 1.06l-4-4a.75.75 0 0 1 0-1.06l4-4a.75.75 0 0 1 1.06 0"></path>
              </svg>
            </button>
            <div class="calendar-month-label" id="calendar-month-label">June 2023</div>
            <button class="calendar-nav-btn" id="next-month" aria-label="Next month">
              <svg aria-hidden="true" role="graphics-symbol" viewBox="0 0 16 16" style="width: 16px; height: 16px; display: block; fill: var(--text-secondary); flex-shrink: 0;">
                <path d="M5.97 3.47a.75.75 0 0 0 0 1.06L9.44 8l-3.47 3.47a.75.75 0 1 0 1.06 1.06l4-4a.75.75 0 0 0 0-1.06l-4-4a.75.75 0 0 0-1.06 0"></path>
              </svg>
            </button>
          </div>
          <button class="calendar-today-btn" id="today-btn">Today</button>
        </div>

        <div class="calendar-grid">
          <div class="calendar-weekdays">
            <div class="calendar-weekday">Sun</div>
            <div class="calendar-weekday">Mon</div>
            <div class="calendar-weekday">Tue</div>
            <div class="calendar-weekday">Wed</div>
            <div class="calendar-weekday">Thu</div>
            <div class="calendar-weekday">Fri</div>
            <div class="calendar-weekday">Sat</div>
          </div>
          <div class="calendar-days" id="calendar-days">
            <!-- Calendar days will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Overview -->
    <div id="stats-view" class="view-container">
      <div class="stats-wrapper">
        <!-- Header with date range selector -->
        <div class="stats-header">
          <h2 class="stats-title">Stats overview</h2>
          <div class="date-range-selector">
            <button class="date-range-btn active" data-range="7">Last 7 days</button>
            <button class="date-range-btn" data-range="30">Last 30 days</button>
            <button class="date-range-btn" data-range="90">Last 3 months</button>
            <button class="date-range-btn" data-range="all">All time</button>
          </div>
        </div>

        <!-- Quick Stats Cards -->
        <div class="stats-cards">
          <div class="stat-card">
            <div class="stat-icon" style="background: rgba(46, 170, 220, 0.1);">
              <svg viewBox="0 0 16 16" style="width: 20px; height: 20px; fill: rgb(46, 170, 220);">
                <path d="M4.35 2.65a.65.65 0 0 0-.65.65v9.4c0 .36.29.65.65.65h7.3a.65.65 0 0 0 .65-.65V3.3a.65.65 0 0 0-.65-.65z"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-label">Total applications</div>
              <div class="stat-value" id="stat-total">0</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon" style="background: rgba(0, 135, 107, 0.1);">
              <svg viewBox="0 0 16 16" style="width: 20px; height: 20px; fill: rgb(0, 135, 107);">
                <path d="M12.57 2H15L6 15l-5-5 1.41-1.41 3.31 3.3z"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-label">Success rate</div>
              <div class="stat-value" id="stat-success">0%</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon" style="background: rgba(219, 148, 0, 0.1);">
              <svg viewBox="0 0 16 16" style="width: 20px; height: 20px; fill: rgb(219, 148, 0);">
                <path d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2zm.65 3.35a.65.65 0 1 1-1.3 0 .65.65 0 0 1 1.3 0zM8 14A6 6 0 1 1 8 2a6 6 0 0 1 0 12zm-.65-3.35V7.3a.65.65 0 1 1 1.3 0v3.35a.65.65 0 1 1-1.3 0z"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-label">Avg. response time</div>
              <div class="stat-value" id="stat-response">-</div>
            </div>
          </div>

          <div class="stat-card">
            <div class="stat-icon" style="background: rgba(176, 54, 235, 0.1);">
              <svg viewBox="0 0 16 16" style="width: 20px; height: 20px; fill: rgb(176, 54, 235);">
                <path d="M2 5.35v5.3c0 .36.29.65.65.65h10.7a.65.65 0 0 0 .65-.65v-5.3a.65.65 0 0 0-.65-.65H2.65a.65.65 0 0 0-.65.65z"/>
              </svg>
            </div>
            <div class="stat-content">
              <div class="stat-label">Interview rate</div>
              <div class="stat-value" id="stat-interview">0%</div>
            </div>
          </div>
        </div>

        <!-- Response Time Buckets -->
        <div class="chart-container chart-full">
          <div class="chart-header">
            <h3 class="chart-title">‚è±Ô∏è Response Time by Days</h3>
          </div>
          <div class="response-buckets-grid" id="response-buckets"></div>
        </div>

        <!-- Charts Row 1: Timeline + Status -->
        <div class="stats-charts-row">
          <div class="chart-container chart-large">
            <div class="chart-header">
              <h3 class="chart-title">Applications timeline</h3>
              <div class="chart-legend" id="timeline-legend"></div>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="timeline-chart"></canvas>
            </div>
          </div>

          <div class="chart-container chart-small">
            <div class="chart-header">
              <h3 class="chart-title">Status distribution</h3>
            </div>
            <div class="chart-canvas-wrapper">
              <canvas id="status-chart"></canvas>
            </div>
          </div>
        </div>





        <!-- Simple Insights Table -->
        <div class="chart-container chart-full simple-insights">
          <div class="chart-header">
            <h3 class="chart-title">üìä Status Breakdown</h3>
            <div class="insight-selector">
              <select id="insight-type-selector" class="notion-select">
                <option value="" selected disabled>Select a view...</option>
                <option value="by-hours">By Application Speed (Hours)</option>
                <option value="by-applicants">By Competition (Applicants)</option>
              </select>
            </div>
          </div>
          <div class="simple-insights-table" id="simple-insights-table">
            <div class="insights-empty-state">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"/>
              </svg>
              <p>Select a view to see insights</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Auth Guard - Shows login required if not authenticated -->
  <div id="auth-guard" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: white; z-index: 10000; display: flex; align-items: center; justify-content: center;">
    <div style="text-align: center; padding: 40px;">
      <div style="width: 64px; height: 64px; background: #f5f5f5; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#6b6b6b" stroke-width="2">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
          <path d="M7 11V7a5 5 0 0110 0v4"/>
        </svg>
      </div>
      <h2 style="font-size: 24px; font-weight: 600; color: #111; margin-bottom: 8px;">Sign in required</h2>
      <p style="color: #6b6b6b; margin-bottom: 24px; font-size: 15px;">Please sign in to access your job tracker dashboard.</p>
      <button id="auth-login-btn" style="background: #000; color: white; border: none; padding: 12px 32px; border-radius: 8px; font-size: 15px; font-weight: 500; cursor: pointer; margin-right: 12px;">Sign In</button>
      <button id="auth-register-btn" style="background: white; color: #111; border: 1px solid #d4d4d4; padding: 12px 32px; border-radius: 8px; font-size: 15px; font-weight: 500; cursor: pointer;">Create Account</button>
    </div>
  </div>

  <!-- Loading State -->
  <div id="auth-loading" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: white; z-index: 10001; display: flex; align-items: center; justify-content: center;">
    <div style="text-align: center;">
      <div style="width: 40px; height: 40px; border: 3px solid #e5e5e5; border-top-color: #000; border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 16px;"></div>
      <p style="color: #6b6b6b; font-size: 14px;">Loading...</p>
    </div>
    <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
  </div>

  <script src="../shared/auth-manager.js"></script>
  <script src="chart.min.js"></script>
  <script src="job-tracker.js"></script>
  <script src="stats.js"></script>
  <script src="auth-guard.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>

